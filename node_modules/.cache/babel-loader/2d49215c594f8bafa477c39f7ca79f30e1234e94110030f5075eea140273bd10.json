{"ast":null,"code":"import axios from \"axios\";\nimport * as Types from \"./acctionTypes\";\nexport const fetchData = () => async dispatch => {\n  try {\n    dispatch({\n      type: Types.FETCH_POSTS_REQUEST\n    });\n    let page = 1;\n    let arr = [];\n    (async function () {\n      let res = await axios.get(`https://swapi.dev/api/starships/?page=${page}`);\n      let data = res && res.data ? res.data : [];\n      arr = arr.concat(data.results);\n      if (data.next) {\n        page += 1;\n        let res = await axios.get(`https://swapi.dev/api/starships/?page=${page}`);\n        arr = arr.concat(res.data.results);\n        if (data.next) {\n          page += 1;\n          let res = await axios.get(`https://swapi.dev/api/starships/?page=${page}`);\n          arr = arr.concat(res.data.results);\n          if (data.next) {\n            page += 1;\n            let res = await axios.get(`https://swapi.dev/api/starships/?page=${page}`);\n            arr = arr.concat(res.data.results);\n          } else {\n            console.log(\"Hết data\");\n            return arr;\n          }\n        }\n      }\n    })();\n    dispatch({\n      type: Types.FETCH_POSTS_SUCCESS,\n      data: arr\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: Types.FETCH_POSTS_ERROR,\n      message: error\n    });\n  }\n};\nexport const loadData = () => async dispatch => {\n  try {\n    dispatch({\n      type: Types.FETCH_POSTS_REQUEST\n    });\n    const url = \"https://jsonplaceholder.typicode.com/posts\";\n    const response = await fetch(url);\n    const responseBody = await response.json();\n    dispatch({\n      type: Types.FETCH_POSTS_SUCCESS,\n      data: responseBody\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: Types.FETCH_POSTS_ERROR,\n      message: error\n    });\n  }\n};\nexport const actAddTotal = () => {\n  return {\n    type: \"total/addTotal\"\n  };\n};\nexport const actDeleteTotal = () => {\n  return {\n    type: \"total/resetTotal\"\n  };\n};\nexport const actFetchData = data => {\n  return {\n    type: \"data/fetchData\",\n    data\n  };\n};\nexport const actDeleteData = id => {\n  return {\n    type: \"data/deleteData\",\n    id\n  };\n};\nexport const actDeleteCount = id => {\n  return {\n    type: \"countDelete\",\n    id\n  };\n};\nexport const actAddCount = id => {\n  return {\n    type: \"countAdd\",\n    id\n  };\n};\nexport const actDeleteCount2 = id => {\n  return {\n    type: \"countDelete2\",\n    id\n  };\n};\nexport const actAddCount2 = id => {\n  return {\n    type: \"countAdd2\",\n    id\n  };\n};\n// export const actFetchData = (data) => {\n//   return {\n//     type: Types.FETCH_DATA,\n//     data,\n//   };\n// };\n// export const actDeleteData = (id) => {\n//   return {\n//     type: Types.DELETE_DATA,\n//     id,\n//   };\n// };","map":{"version":3,"names":["axios","Types","fetchData","dispatch","type","FETCH_POSTS_REQUEST","page","arr","res","get","data","concat","results","next","console","log","FETCH_POSTS_SUCCESS","error","FETCH_POSTS_ERROR","message","loadData","url","response","fetch","responseBody","json","actAddTotal","actDeleteTotal","actFetchData","actDeleteData","id","actDeleteCount","actAddCount","actDeleteCount2","actAddCount2"],"sources":["D:/cac ngon ngu/ReactJs/baitap1/src/redux/acction.js"],"sourcesContent":["import axios from \"axios\";\r\nimport * as Types from \"./acctionTypes\";\r\n\r\nexport const fetchData = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: Types.FETCH_POSTS_REQUEST });\r\n    let page = 1;\r\n    let arr = [];\r\n    (async function () {\r\n      let res = await axios.get(\r\n        `https://swapi.dev/api/starships/?page=${page}`\r\n      );\r\n      let data = res && res.data ? res.data : [];\r\n      arr = arr.concat(data.results);\r\n      if (data.next) {\r\n        page += 1;\r\n        let res = await axios.get(\r\n          `https://swapi.dev/api/starships/?page=${page}`\r\n        );\r\n        arr = arr.concat(res.data.results);\r\n        if (data.next) {\r\n          page += 1;\r\n          let res = await axios.get(\r\n            `https://swapi.dev/api/starships/?page=${page}`\r\n          );\r\n          arr = arr.concat(res.data.results);\r\n          if (data.next) {\r\n            page += 1;\r\n            let res = await axios.get(\r\n              `https://swapi.dev/api/starships/?page=${page}`\r\n            );\r\n            arr = arr.concat(res.data.results);\r\n          } else {\r\n            console.log(\"Hết data\");\r\n            return arr;\r\n          }\r\n        }\r\n      }\r\n    })();\r\n    dispatch({\r\n      type: Types.FETCH_POSTS_SUCCESS,\r\n      data: arr,\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({\r\n      type: Types.FETCH_POSTS_ERROR,\r\n      message: error,\r\n    });\r\n  }\r\n};\r\nexport const loadData = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: Types.FETCH_POSTS_REQUEST });\r\n    const url = \"https://jsonplaceholder.typicode.com/posts\";\r\n    const response = await fetch(url);\r\n    const responseBody = await response.json();\r\n\r\n    dispatch({\r\n      type: Types.FETCH_POSTS_SUCCESS,\r\n      data: responseBody,\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({\r\n      type: Types.FETCH_POSTS_ERROR,\r\n      message: error,\r\n    });\r\n  }\r\n};\r\n\r\nexport const actAddTotal = () => {\r\n  return {\r\n    type: \"total/addTotal\",\r\n  };\r\n};\r\nexport const actDeleteTotal = () => {\r\n  return {\r\n    type: \"total/resetTotal\",\r\n  };\r\n};\r\n\r\nexport const actFetchData = (data) => {\r\n  return {\r\n    type: \"data/fetchData\",\r\n    data,\r\n  };\r\n};\r\nexport const actDeleteData = (id) => {\r\n  return {\r\n    type: \"data/deleteData\",\r\n    id,\r\n  };\r\n};\r\nexport const actDeleteCount = (id) => {\r\n  return {\r\n    type: \"countDelete\",\r\n    id,\r\n  };\r\n};\r\nexport const actAddCount = (id) => {\r\n  return {\r\n    type: \"countAdd\",\r\n    id,\r\n  };\r\n};\r\nexport const actDeleteCount2 = (id) => {\r\n  return {\r\n    type: \"countDelete2\",\r\n    id,\r\n  };\r\n};\r\nexport const actAddCount2 = (id) => {\r\n  return {\r\n    type: \"countAdd2\",\r\n    id,\r\n  };\r\n};\r\n// export const actFetchData = (data) => {\r\n//   return {\r\n//     type: Types.FETCH_DATA,\r\n//     data,\r\n//   };\r\n// };\r\n// export const actDeleteData = (id) => {\r\n//   return {\r\n//     type: Types.DELETE_DATA,\r\n//     id,\r\n//   };\r\n// };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}